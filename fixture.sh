#!/bin/bash 

curl -X "POST" "gateway:3000/apis/" \
     -H "Content-Type: application/json; charset=utf-8" \
     -d "{\"name\":\"User\",\"slug\":\"user\",\"active\":true,\"use_basic_auth\":false,\"domain\":\"\",\"proxy\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/users/*randomName\",\"target_url\":\"http://auth-service:3000/users\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"ALL\"]},\"allowed_ips\":[],\"use_oauth2\":true,\"oauth_meta\":{\"oauth_endpoints\":{\"authorize\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/authorize\",\"target_url\":\"http://auth-service:3000/authorize\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"ALL\"]},\"token\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/token\",\"target_url\":\"http://auth-service:3000/token\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"GET\",\"POST\"]},\"info\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/info\",\"target_url\":\"http://auth-service:3000/info\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"GET\"]}},\"oauth_client_endpoints\":{\"create\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/clients/create\",\"target_url\":\"http://auth-service:3000/clients/\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"POST\"]},\"remove\":{\"preserve_host_header\":false,\"listen_path\":\"/auth/clients/remove\",\"target_url\":\"http://auth-service:3000/clients/\",\"strip_listen_path\":true,\"enable_load_balancing\":false,\"target_list\":[],\"check_host_against_uptime_tests\":false,\"methods\":[\"DELETE\"]}},\"allowed_access_types\":[],\"allowed_authorize_types\":[],\"auth_login_redirect\":\"\"},\"rate_limit\":{\"enabled\":true,\"limit\":20},\"cors_meta\":{\"domains\":[],\"methods\":[],\"request_headers\":[],\"exposed_headers\":[],\"enabled\":false}}"
